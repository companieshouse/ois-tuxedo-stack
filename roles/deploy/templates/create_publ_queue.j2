#!/bin/bash

tmadmin <<EOF
crdl -b 550000 -z {{ tuxedo_queue_path }}
crlog -m {{ tuxedo_logical_machine_id }}
EOF

qmadmin /home/{{ tuxedo_service }}/queues/{{ tuxedo_queue_space_device }} <<EOF
qspacecreate
QSPACE
{{ tuxedo_service_config[tuxedo_service].queue_space_ipc_key }}
450000
10
20
20
750
ERRORQ
y
16
qopen QSPACE
qcreate
QSP_Ord
fifo
none
10
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/qspord_capacity
qcreate
LCQ0110
fifo
none
2
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/lcq0110_capacity
qcreate
LCQ0111
fifo
none
2
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/lcq0111_capacity
qcreate
QSP_Can
fifo
none
10
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/qspcan_capacity
qcreate
SMS_Ord
fifo
none
10
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/smsord_capacity
qcreate
ERRORQ
fifo
none
10
30
90%
10%
/bin/touch /var/log/{{ tuxedo_service }}/errorq_capacity
qclose
qspacecreate
QSPACE2
{{ tuxedo_service_config[tuxedo_service].queue_space_2_ipc_key }}
75000
10
20
20
750
ERRORQ2
y
16
qopen QSPACE2
qcreate
PACKQ
fifo
none
10
30
90%
10%
/bin/touch /var/log/tuxedo/{{ tuxedo_service }}/packq_capacity
qcreate
ERRORQ2
fifo
none
10
30
90%
10%
/bin/touch /var/log/tuxedo/{{ tuxedo_service }}/errorq2_capacity
qclose
EOF
